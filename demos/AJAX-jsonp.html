<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>AJAX test</title>
	</head>
	<body>
        <button id="btn">jsonp request</button><br><br>
        <div id="test-jsonp"></div>
        <script type="text/javascript">
           
               var url = 'http://api.money.126.net/data/feed/0000001,1399001?callback=refreshPrice';
               var div = document.getElementById('test-jsonp');
              
            var btn = document.getElementById('btn');
            btn.onclick = function (){
                var div = document.getElementById('test-jsonp');
                div.innerText = ('请求已发送，请等待响应...');
                var script = document.createElement('script'); // 使用后销毁
                script.src = url;
                var div = document.getElementById('test-jsonp');
                div.appendChild(script);
                
            }
            function refreshPrice(data) {
                
                div.innerHTML = '当前价格：' +
                    data['0000001'].name +': ' + 
                    data['0000001'].price + '；' +
                    data['1399001'].name + ': ' +
                    data['1399001'].price;
            }
            // 有限于同源策略， 可采用  jsonp  解决
		</script>
	</body>
</html>
