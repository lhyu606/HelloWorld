<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div class="">
			obj 的年龄是：<span id="age">0</span>
		</div>
		<input type="text" name="setage" id="setage" value="0" />
		<script type="text/javascript">
			var obj = {
				_name:'obj',
				_age:20
			};
			console.dir(obj);
			/*Object.defineProperties(
				obj,{
					_name:{
						value:'new',
						writable:false,
						enumerable:true,
						configurable:true
					},
					age:{
						value:22,
						writable:true,
						enumerable:true,
						configurable:true
					}
				}
			);
			console.log(obj);
			obj.age = 55;
			obj._name = 'obj';
			for (var key in obj) {
				console.log(obj[key]);
			}
			*/
			Object.defineProperty(
				obj,"age",{
					get:function(){
						console.log('get')
						return this._age;
					},
					set:function(age){
						console.log('set')
						age -= 0;
						if(age<0){
							this._age = 0;
						}else if(age > 100){
							this._age = 100
						}else{
							this._age = age;
						}
						if(!age){this._age = 0}
						document.getElementById('age').innerHTML = this._age;
					}
				}
			);
			obj.age = -3;
			console.log('obj.age = ' + obj.age);
//			obj.age = 101;
//			console.log('new obj.age = ' + obj.age);
			document.getElementById('setage').onkeyup = function(){
				console.log(this.value)
				obj.age = this.value;
			}
			
		</script>
	</body>
</html>
